<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Home Server</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="my-raspberry-pi-server-network">My Raspberry Pi Server Network</h1>
<p>Currently, I have just two Raspberry Pi servers. However, this network setup is theoretically capable of supporting hundreds of servers—well, technically up to 254. So, why limit it by labeling it a  <em>“2-Pi server network”</em>? Such a modest name wouldn’t do justice to its potential. Moreover, it feels somewhat absurd to keep an entire router powered 24/7 merely to access two tiny devices. To put it bluntly, it’s ridiculous.</p>
<p>To add insult to injury, this router consumes around  <em>5.04–12.10 kWh per week</em>  (<em>typical consumption</em>: approximately  <em>7.56 kWh</em>), costing anywhere between  <em>₹32.76 and ₹96.20 per week</em>  (<em>typical cost</em>:  <em>₹49.14–₹60.09</em>)—just for the privilege of maintaining connectivity with two small computers. Therefore, I’ve decided simply to call this  <em>my server network</em>, which serves as a gentle reminder of its scalability and potential size rather than its wastage of electricity.</p>
<h3 id="setting-it-all-up">Setting It All Up</h3>
<p>When configuring my servers, I ran into a particular challenge. Before diving into that, let me clearly outline what I wanted to achieve:</p>
<ul>
<li>
<p><strong>Remote Access:</strong>  Access both Raspberry Pis via SSH and VNC.</p>
</li>
<li>
<p><strong>Internet Connectivity:</strong>  Ensure the servers maintain internet access whenever my personal hotspot (via my iPhone) is available. This allows scheduled tasks, such as regular backups, to run smoothly. For instance, I have scheduled bi-weekly backups of my current project—the Sienna repository and its branches—to maintain reliable data backups.</p>
</li>
</ul>
<p>The issue arose because my MacBook has only one Wi-Fi adapter, meaning it can connect to only one Wi-Fi network at a time. This limitation is not Apple’s fault though—I don’t think more than 5% of laptops worldwide come with multiple built-in Wi-Fi adapters.</p>
<p>A straightforward solution might be to air-gap the Pis by keeping them isolated, but that would eliminate internet access entirely—clearly not ideal. After considerable experimentation (and several enlightening conversations with GPT), I developed a more elegant solution.</p>
<h3 id="my-solution-explained">My Solution Explained</h3>
<p>Initially, I considered connecting my Wi-Fi router directly to my iPhone’s hotspot and then distributing internet access to the entire LAN. Unfortunately, this didn’t work because my router (like most consumer-grade routers) can’t source its WAN connection from a Wi-Fi or LAN client; it insists on using a dedicated WAN port.</p>
<p>However, I realized I could utilize a built-in router setting: the default gateway, often referred to simply as the “router address.” Typically, routers set themselves as the default gateway, instructing all devices on the LAN to route traffic through them. But it turns out you can override this gateway to point elsewhere—in my case, to a Raspberry Pi.</p>
<p>I chose my Raspberry Pi 4 for this task because routing introduces some overhead. My Pi is now configured to automatically connect to my iPhone’s hotspot whenever it’s available. It acts as the network gateway, receiving internet requests via Ethernet, forwarding them via Wi-Fi to my hotspot, and returning responses back to the clients on the LAN. This essentially turns my Pi into the network’s primary router and internet handler—without needing additional hardware or incurring further costs.</p>
<h3 id="flexibility-of-this-setup">Flexibility of this Setup:</h3>
<p>My Mac can either connect directly to my iPhone’s hotspot or join the server network via Ethernet/Wi-Fi. Thanks to the independence of internet and LAN connectivity, I retain full access to the servers even if internet service is down.</p>
<p>Below are diagrams clearly representing the different operational modes of my setup:</p>
<hr>
<p><strong>Mode 1 — Idle Mode</strong></p>
<p><em>Scheduled tasks running on servers; Mac disconnected from LAN.</em></p>
<pre class=" language-mermaid"><svg id="mermaid-svg-NWY1EPOjAAtg96Fu" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="306" style="max-width: 436.34375px;" viewBox="0 0 436.34375 306"><style>#mermaid-svg-NWY1EPOjAAtg96Fu{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-NWY1EPOjAAtg96Fu .error-icon{fill:#552222;}#mermaid-svg-NWY1EPOjAAtg96Fu .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-NWY1EPOjAAtg96Fu .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-NWY1EPOjAAtg96Fu .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-NWY1EPOjAAtg96Fu .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-NWY1EPOjAAtg96Fu .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-NWY1EPOjAAtg96Fu .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-NWY1EPOjAAtg96Fu .marker{fill:#666;stroke:#666;}#mermaid-svg-NWY1EPOjAAtg96Fu .marker.cross{stroke:#666;}#mermaid-svg-NWY1EPOjAAtg96Fu svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-NWY1EPOjAAtg96Fu .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-NWY1EPOjAAtg96Fu .cluster-label text{fill:#333;}#mermaid-svg-NWY1EPOjAAtg96Fu .cluster-label span{color:#333;}#mermaid-svg-NWY1EPOjAAtg96Fu .label text,#mermaid-svg-NWY1EPOjAAtg96Fu span{fill:#000000;color:#000000;}#mermaid-svg-NWY1EPOjAAtg96Fu .node rect,#mermaid-svg-NWY1EPOjAAtg96Fu .node circle,#mermaid-svg-NWY1EPOjAAtg96Fu .node ellipse,#mermaid-svg-NWY1EPOjAAtg96Fu .node polygon,#mermaid-svg-NWY1EPOjAAtg96Fu .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-NWY1EPOjAAtg96Fu .node .label{text-align:center;}#mermaid-svg-NWY1EPOjAAtg96Fu .node.clickable{cursor:pointer;}#mermaid-svg-NWY1EPOjAAtg96Fu .arrowheadPath{fill:#333333;}#mermaid-svg-NWY1EPOjAAtg96Fu .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-NWY1EPOjAAtg96Fu .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-NWY1EPOjAAtg96Fu .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-NWY1EPOjAAtg96Fu .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-NWY1EPOjAAtg96Fu .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-NWY1EPOjAAtg96Fu .cluster text{fill:#333;}#mermaid-svg-NWY1EPOjAAtg96Fu .cluster span{color:#333;}#mermaid-svg-NWY1EPOjAAtg96Fu div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-NWY1EPOjAAtg96Fu:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-NWY1EPOjAAtg96Fu flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-iPhone LE-Rpi" id="L-iPhone-Rpi" style="opacity: 1;"><path class="path" d="M132.71356301229508,176L169.87890625,214L237.66130891393442,252" marker-end="url(https://stackedit.io/app#arrowhead94)" style="fill:none"></path><defs><marker id="arrowhead94" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-iPhone LE-Mac" id="L-iPhone-Mac" style="opacity: 1;"><path class="path" d="M95.4578637295082,176L71.0703125,214L71.0703125,252" marker-end="url(https://stackedit.io/app#arrowhead95)" style="fill:none"></path><defs><marker id="arrowhead95" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Servers" id="L-Switch-Servers" style="opacity: 1;"><path class="path" d="M361.40868340163934,54L386.640625,92L386.640625,130" marker-end="url(https://stackedit.io/app#arrowhead96)" style="fill:none"></path><defs><marker id="arrowhead96" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Rpi" id="L-Switch-Rpi" style="opacity: 1;"><path class="path" d="M320.70504610655735,54L278.6875,92L278.6875,153L278.6875,214L278.6875,252" marker-end="url(https://stackedit.io/app#arrowhead97)" style="fill:none"></path><defs><marker id="arrowhead97" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Servers LE-Rpi" id="L-Servers-Rpi" style="opacity: 1;"><path class="path" d="M386.640625,176L386.640625,214L319.391137295082,252" marker-end="url(https://stackedit.io/app#arrowhead98)" style="fill:none"></path><defs><marker id="arrowhead98" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(169.87890625,214)" style="opacity: 1;"><g transform="translate(-29.1484375,-13)" class="label"><rect rx="0" ry="0" width="58.296875" height="26"></rect><foreignObject width="58.296875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-iPhone-Rpi" class="edgeLabel L-LS-iPhone' L-LE-Rpi">Internet</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(71.0703125,214)" style="opacity: 1;"><g transform="translate(-29.1484375,-13)" class="label"><rect rx="0" ry="0" width="58.296875" height="26"></rect><foreignObject width="58.296875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-iPhone-Mac" class="edgeLabel L-LS-iPhone' L-LE-Mac">Internet</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(386.640625,92)" style="opacity: 1;"><g transform="translate(-13.875,-13)" class="label"><rect rx="0" ry="0" width="27.75" height="26"></rect><foreignObject width="27.75" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Servers" class="edgeLabel L-LS-Switch' L-LE-Servers">LAN</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(278.6875,153)" style="opacity: 1;"><g transform="translate(-31.25,-13)" class="label"><rect rx="0" ry="0" width="62.5" height="26"></rect><foreignObject width="62.5" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Rpi" class="edgeLabel L-LS-Switch' L-LE-Rpi">Gateway</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(386.640625,214)" style="opacity: 1;"><g transform="translate(-28.296875,-13)" class="label"><rect rx="0" ry="0" width="56.59375" height="26"></rect><foreignObject width="56.59375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Servers-Rpi" class="edgeLabel L-LS-Servers' L-LE-Rpi">Request</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-iPhone-589" transform="translate(110.21875,153)" style="opacity: 1;"><rect rx="23" ry="23" x="-102.21875" y="-23" width="204.4375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-86.46875,-13)"><foreignObject width="172.9375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">iPhone Personal Hotspot</div></foreignObject></g></g></g><g class="node default" id="flowchart-Rpi-590" transform="translate(278.6875,275)" style="opacity: 1;"><rect rx="23" ry="23" x="-66.671875" y="-23" width="133.34375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.921875,-13)"><foreignObject width="101.84375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Raspberry Pi 4</div></foreignObject></g></g></g><g class="node default" id="flowchart-Switch-591" transform="translate(346.13671875,31)" style="opacity: 1;"><rect rx="23" ry="23" x="-39.3359375" y="-23" width="78.671875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.5859375,-13)"><foreignObject width="47.171875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Switch</div></foreignObject></g></g></g><g class="node default" id="flowchart-Mac-592" transform="translate(71.0703125,275)" style="opacity: 1;"><rect rx="23" ry="23" x="-29.59375" y="-23" width="59.1875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.84375,-13)"><foreignObject width="27.6875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mac</div></foreignObject></g></g></g><g class="node default" id="flowchart-Servers-593" transform="translate(386.640625,153)" style="opacity: 1;"><rect rx="23" ry="23" x="-41.703125" y="-23" width="83.40625" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25.953125,-13)"><foreignObject width="51.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Servers</div></foreignObject></g></g></g></g></g></g></svg></pre>
<hr>
<p><strong>Mode 2 — Access Mode</strong></p>
<p><em>Mac connected to the server LAN; internet available via Raspberry Pi.</em></p>
<pre class=" language-mermaid"><svg id="mermaid-svg-Huf2TMglJkCW6MGB" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="314" style="max-width: 484.36328125px;" viewBox="-8 -8 484.36328125 314"><style>#mermaid-svg-Huf2TMglJkCW6MGB{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-Huf2TMglJkCW6MGB .error-icon{fill:#552222;}#mermaid-svg-Huf2TMglJkCW6MGB .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-Huf2TMglJkCW6MGB .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-Huf2TMglJkCW6MGB .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-Huf2TMglJkCW6MGB .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-Huf2TMglJkCW6MGB .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-Huf2TMglJkCW6MGB .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-Huf2TMglJkCW6MGB .marker{fill:#666;stroke:#666;}#mermaid-svg-Huf2TMglJkCW6MGB .marker.cross{stroke:#666;}#mermaid-svg-Huf2TMglJkCW6MGB svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-Huf2TMglJkCW6MGB .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-Huf2TMglJkCW6MGB .cluster-label text{fill:#333;}#mermaid-svg-Huf2TMglJkCW6MGB .cluster-label span{color:#333;}#mermaid-svg-Huf2TMglJkCW6MGB .label text,#mermaid-svg-Huf2TMglJkCW6MGB span{fill:#000000;color:#000000;}#mermaid-svg-Huf2TMglJkCW6MGB .node rect,#mermaid-svg-Huf2TMglJkCW6MGB .node circle,#mermaid-svg-Huf2TMglJkCW6MGB .node ellipse,#mermaid-svg-Huf2TMglJkCW6MGB .node polygon,#mermaid-svg-Huf2TMglJkCW6MGB .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-Huf2TMglJkCW6MGB .node .label{text-align:center;}#mermaid-svg-Huf2TMglJkCW6MGB .node.clickable{cursor:pointer;}#mermaid-svg-Huf2TMglJkCW6MGB .arrowheadPath{fill:#333333;}#mermaid-svg-Huf2TMglJkCW6MGB .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-Huf2TMglJkCW6MGB .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-Huf2TMglJkCW6MGB .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-Huf2TMglJkCW6MGB .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-Huf2TMglJkCW6MGB .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-Huf2TMglJkCW6MGB .cluster text{fill:#333;}#mermaid-svg-Huf2TMglJkCW6MGB .cluster span{color:#333;}#mermaid-svg-Huf2TMglJkCW6MGB div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-Huf2TMglJkCW6MGB:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-Huf2TMglJkCW6MGB flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-iPhone LE-Rpi" id="L-iPhone-Rpi" style="opacity: 1;"><path class="path" d="M303.6301869877049,176L266.46484375,214L198.68244108606558,252" marker-end="url(https://stackedit.io/app#arrowhead99)" style="fill:none"></path><defs><marker id="arrowhead99" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Servers" id="L-Switch-Servers" style="opacity: 1;"><path class="path" d="M118.3203125,53.227167462729774L49.703125,92L49.703125,130" marker-end="url(https://stackedit.io/app#arrowhead100)" style="fill:none"></path><defs><marker id="arrowhead100" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Mac" id="L-Switch-Mac" style="opacity: 1;"><path class="path" d="M196.9921875,38.8494939685136L463.34375,92L463.34375,153L463.34375,214L448.03522028688525,252" marker-end="url(https://stackedit.io/app#arrowhead101)" style="fill:none"></path><defs><marker id="arrowhead101" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-iPhone LE-Mac" id="L-iPhone-Mac" style="opacity: 1;"><path class="path" d="M342.72841956967216,176L370.16015625,214L412.90042264344265,252" marker-end="url(https://stackedit.io/app#arrowhead102)" style="fill:none"></path><defs><marker id="arrowhead102" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Rpi" id="L-Switch-Rpi" style="opacity: 1;"><path class="path" d="M157.65625,54L157.65625,92L157.65625,153L157.65625,214L157.65625,252" marker-end="url(https://stackedit.io/app#arrowhead103)" style="fill:none"></path><defs><marker id="arrowhead103" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Servers LE-Rpi" id="L-Servers-Rpi" style="opacity: 1;"><path class="path" d="M49.703125,176L49.703125,214L116.95261270491804,252" marker-end="url(https://stackedit.io/app#arrowhead104)" style="fill:none"></path><defs><marker id="arrowhead104" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(266.46484375,214)" style="opacity: 1;"><g transform="translate(-29.1484375,-13)" class="label"><rect rx="0" ry="0" width="58.296875" height="26"></rect><foreignObject width="58.296875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-iPhone-Rpi" class="edgeLabel L-LS-iPhone' L-LE-Rpi">Internet</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(49.703125,92)" style="opacity: 1;"><g transform="translate(-13.875,-13)" class="label"><rect rx="0" ry="0" width="27.75" height="26"></rect><foreignObject width="27.75" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Servers" class="edgeLabel L-LS-Switch' L-LE-Servers">LAN</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Mac" class="edgeLabel L-LS-Switch' L-LE-Mac"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(370.16015625,214)" style="opacity: 1;"><g transform="translate(-29.1484375,-13)" class="label"><rect rx="0" ry="0" width="58.296875" height="26"></rect><foreignObject width="58.296875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-iPhone-Mac" class="edgeLabel L-LS-iPhone' L-LE-Mac">Internet</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(157.65625,153)" style="opacity: 1;"><g transform="translate(-31.25,-13)" class="label"><rect rx="0" ry="0" width="62.5" height="26"></rect><foreignObject width="62.5" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Rpi" class="edgeLabel L-LS-Switch' L-LE-Rpi">Gateway</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(49.703125,214)" style="opacity: 1;"><g transform="translate(-28.296875,-13)" class="label"><rect rx="0" ry="0" width="56.59375" height="26"></rect><foreignObject width="56.59375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Servers-Rpi" class="edgeLabel L-LS-Servers' L-LE-Rpi">Request</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-iPhone-621" transform="translate(326.125,153)" style="opacity: 1;"><rect rx="23" ry="23" x="-102.21875" y="-23" width="204.4375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-86.46875,-13)"><foreignObject width="172.9375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">iPhone Personal Hotspot</div></foreignObject></g></g></g><g class="node default" id="flowchart-Rpi-622" transform="translate(157.65625,275)" style="opacity: 1;"><rect rx="23" ry="23" x="-66.671875" y="-23" width="133.34375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.921875,-13)"><foreignObject width="101.84375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Raspberry Pi 4</div></foreignObject></g></g></g><g class="node default" id="flowchart-Switch-623" transform="translate(157.65625,31)" style="opacity: 1;"><rect rx="23" ry="23" x="-39.3359375" y="-23" width="78.671875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.5859375,-13)"><foreignObject width="47.171875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Switch</div></foreignObject></g></g></g><g class="node default" id="flowchart-Mac-624" transform="translate(438.76953125,275)" style="opacity: 1;"><rect rx="23" ry="23" x="-29.59375" y="-23" width="59.1875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.84375,-13)"><foreignObject width="27.6875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mac</div></foreignObject></g></g></g><g class="node default" id="flowchart-Servers-625" transform="translate(49.703125,153)" style="opacity: 1;"><rect rx="23" ry="23" x="-41.703125" y="-23" width="83.40625" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25.953125,-13)"><foreignObject width="51.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Servers</div></foreignObject></g></g></g></g></g></g></svg></pre>
<hr>
<p><strong>Mode 3 — Offline LAN</strong></p>
<p><em>Mac connected to server LAN; no internet access.</em></p>
<pre class=" language-mermaid"><svg id="mermaid-svg-yj2OGKbbqtRN2D6x" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="166" style="max-width: 399.9375px;" viewBox="-8 -8 399.9375 166"><style>#mermaid-svg-yj2OGKbbqtRN2D6x{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-yj2OGKbbqtRN2D6x .error-icon{fill:#552222;}#mermaid-svg-yj2OGKbbqtRN2D6x .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-yj2OGKbbqtRN2D6x .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-yj2OGKbbqtRN2D6x .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-yj2OGKbbqtRN2D6x .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-yj2OGKbbqtRN2D6x .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-yj2OGKbbqtRN2D6x .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-yj2OGKbbqtRN2D6x .marker{fill:#666;stroke:#666;}#mermaid-svg-yj2OGKbbqtRN2D6x .marker.cross{stroke:#666;}#mermaid-svg-yj2OGKbbqtRN2D6x svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-yj2OGKbbqtRN2D6x .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-yj2OGKbbqtRN2D6x .cluster-label text{fill:#333;}#mermaid-svg-yj2OGKbbqtRN2D6x .cluster-label span{color:#333;}#mermaid-svg-yj2OGKbbqtRN2D6x .label text,#mermaid-svg-yj2OGKbbqtRN2D6x span{fill:#000000;color:#000000;}#mermaid-svg-yj2OGKbbqtRN2D6x .node rect,#mermaid-svg-yj2OGKbbqtRN2D6x .node circle,#mermaid-svg-yj2OGKbbqtRN2D6x .node ellipse,#mermaid-svg-yj2OGKbbqtRN2D6x .node polygon,#mermaid-svg-yj2OGKbbqtRN2D6x .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-yj2OGKbbqtRN2D6x .node .label{text-align:center;}#mermaid-svg-yj2OGKbbqtRN2D6x .node.clickable{cursor:pointer;}#mermaid-svg-yj2OGKbbqtRN2D6x .arrowheadPath{fill:#333333;}#mermaid-svg-yj2OGKbbqtRN2D6x .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-yj2OGKbbqtRN2D6x .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-yj2OGKbbqtRN2D6x .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-yj2OGKbbqtRN2D6x .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-yj2OGKbbqtRN2D6x .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-yj2OGKbbqtRN2D6x .cluster text{fill:#333;}#mermaid-svg-yj2OGKbbqtRN2D6x .cluster span{color:#333;}#mermaid-svg-yj2OGKbbqtRN2D6x div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-yj2OGKbbqtRN2D6x:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-yj2OGKbbqtRN2D6x flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-Switch LE-Servers" id="L-Switch-Servers" style="opacity: 1;"><path class="path" d="M131.6640625,46.56614710807678L49.703125,79L49.703125,104" marker-end="url(https://stackedit.io/app#arrowhead105)" style="fill:none"></path><defs><marker id="arrowhead105" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Mac" id="L-Switch-Mac" style="opacity: 1;"><path class="path" d="M171,54L171,79L171,104" marker-end="url(https://stackedit.io/app#arrowhead106)" style="fill:none"></path><defs><marker id="arrowhead106" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Rpi" id="L-Switch-Rpi" style="opacity: 1;"><path class="path" d="M210.3359375,43.90887725670334L317.265625,79L317.265625,104" marker-end="url(https://stackedit.io/app#arrowhead107)" style="fill:none"></path><defs><marker id="arrowhead107" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Servers" class="edgeLabel L-LS-Switch' L-LE-Servers"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Mac" class="edgeLabel L-LS-Switch' L-LE-Mac"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Rpi" class="edgeLabel L-LS-Switch' L-LE-Rpi"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Mac-648" transform="translate(171,127)" style="opacity: 1;"><rect rx="23" ry="23" x="-29.59375" y="-23" width="59.1875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.84375,-13)"><foreignObject width="27.6875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Mac</div></foreignObject></g></g></g><g class="node default" id="flowchart-Switch-649" transform="translate(171,31)" style="opacity: 1;"><rect rx="23" ry="23" x="-39.3359375" y="-23" width="78.671875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.5859375,-13)"><foreignObject width="47.171875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Switch</div></foreignObject></g></g></g><g class="node default" id="flowchart-Rpi-650" transform="translate(317.265625,127)" style="opacity: 1;"><rect rx="23" ry="23" x="-66.671875" y="-23" width="133.34375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.921875,-13)"><foreignObject width="101.84375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Raspberry Pi 4</div></foreignObject></g></g></g><g class="node default" id="flowchart-Servers-651" transform="translate(49.703125,127)" style="opacity: 1;"><rect rx="23" ry="23" x="-41.703125" y="-23" width="83.40625" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25.953125,-13)"><foreignObject width="51.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Servers</div></foreignObject></g></g></g></g></g></g></svg></pre>
<hr>
<p><strong>Mode 4 — Autonomous Mode</strong></p>
<p><em>Fully offline autonomous scheduled tasks (when I’m away).</em></p>
<pre class=" language-mermaid"><svg id="mermaid-svg-WiZm2gSQwUllewt0" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="166" style="max-width: 290.75px;" viewBox="-8 -8 290.75 166"><style>#mermaid-svg-WiZm2gSQwUllewt0{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-WiZm2gSQwUllewt0 .error-icon{fill:#552222;}#mermaid-svg-WiZm2gSQwUllewt0 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-WiZm2gSQwUllewt0 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-WiZm2gSQwUllewt0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-WiZm2gSQwUllewt0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-WiZm2gSQwUllewt0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-WiZm2gSQwUllewt0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-WiZm2gSQwUllewt0 .marker{fill:#666;stroke:#666;}#mermaid-svg-WiZm2gSQwUllewt0 .marker.cross{stroke:#666;}#mermaid-svg-WiZm2gSQwUllewt0 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-WiZm2gSQwUllewt0 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-WiZm2gSQwUllewt0 .cluster-label text{fill:#333;}#mermaid-svg-WiZm2gSQwUllewt0 .cluster-label span{color:#333;}#mermaid-svg-WiZm2gSQwUllewt0 .label text,#mermaid-svg-WiZm2gSQwUllewt0 span{fill:#000000;color:#000000;}#mermaid-svg-WiZm2gSQwUllewt0 .node rect,#mermaid-svg-WiZm2gSQwUllewt0 .node circle,#mermaid-svg-WiZm2gSQwUllewt0 .node ellipse,#mermaid-svg-WiZm2gSQwUllewt0 .node polygon,#mermaid-svg-WiZm2gSQwUllewt0 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-WiZm2gSQwUllewt0 .node .label{text-align:center;}#mermaid-svg-WiZm2gSQwUllewt0 .node.clickable{cursor:pointer;}#mermaid-svg-WiZm2gSQwUllewt0 .arrowheadPath{fill:#333333;}#mermaid-svg-WiZm2gSQwUllewt0 .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-WiZm2gSQwUllewt0 .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-WiZm2gSQwUllewt0 .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-WiZm2gSQwUllewt0 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-WiZm2gSQwUllewt0 .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-WiZm2gSQwUllewt0 .cluster text{fill:#333;}#mermaid-svg-WiZm2gSQwUllewt0 .cluster span{color:#333;}#mermaid-svg-WiZm2gSQwUllewt0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-WiZm2gSQwUllewt0:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-WiZm2gSQwUllewt0 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-Switch LE-Servers" id="L-Switch-Servers" style="opacity: 1;"><path class="path" d="M90.94661458333334,54L49.703125,79L49.703125,104" marker-end="url(https://stackedit.io/app#arrowhead108)" style="fill:none"></path><defs><marker id="arrowhead108" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-Switch LE-Rpi" id="L-Switch-Rpi" style="opacity: 1;"><path class="path" d="M166.83463541666666,54L208.078125,79L208.078125,104" marker-end="url(https://stackedit.io/app#arrowhead109)" style="fill:none"></path><defs><marker id="arrowhead109" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Servers" class="edgeLabel L-LS-Switch' L-LE-Servers"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-Switch-Rpi" class="edgeLabel L-LS-Switch' L-LE-Rpi"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Switch-665" transform="translate(128.890625,31)" style="opacity: 1;"><rect rx="23" ry="23" x="-39.3359375" y="-23" width="78.671875" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.5859375,-13)"><foreignObject width="47.171875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Switch</div></foreignObject></g></g></g><g class="node default" id="flowchart-Rpi-666" transform="translate(208.078125,127)" style="opacity: 1;"><rect rx="23" ry="23" x="-66.671875" y="-23" width="133.34375" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.921875,-13)"><foreignObject width="101.84375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Raspberry Pi 4</div></foreignObject></g></g></g><g class="node default" id="flowchart-Servers-667" transform="translate(49.703125,127)" style="opacity: 1;"><rect rx="23" ry="23" x="-41.703125" y="-23" width="83.40625" height="46" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25.953125,-13)"><foreignObject width="51.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Servers</div></foreignObject></g></g></g></g></g></g></svg></pre>
<hr>
<p><strong>An Elegant Touch: Handling Internet Outages</strong></p>
<p>To add a professional touch, my Pi behaves exactly like modern ISP routers. If my hotspot is unavailable, instead of quietly dropping packets and making clients wait, it immediately replies with an ICMP Destination Unreachable message. This way, all devices instantly know when the internet is offline, providing a smooth, responsive user experience typical of professional-grade networks.</p>
<p><strong>Will I Ever Use These Servers?</strong></p>
<p>Probably never. But hey, it sounds darn cool to casually mention that I maintain a custom, self-hosted, dynamically routed server network with intelligent failover. Plus, since my hostel covers the electricity bill, it’s essentially free bragging rights—efficiency be damned!</p>
</div>
</body>

</html>
